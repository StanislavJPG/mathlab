{% extends 'base/mathlab_base.html' %}
{% load i18n static %}

{% block page_head %}
  <title>MathLab | Чернетки</title>
{% endblock page_head %}

{% block body %}
  <div>
    <section class="py-5 text-center container">
      <div class="row py-lg-5">
        <div class="col-lg-6 col-md-8 mx-auto">
          <h1 class="fw-light">Album example</h1>
          <p class="lead text-body-secondary">Something short and leading about the collection below—its contents, the
            creator, etc. Make it short and sweet, but not too short so folks don’t simply skip over it entirely.</p>
          <p>
            <a href="#" class="btn btn-primary my-2">Main call to action</a>
            <a href="#" class="btn btn-secondary my-2">Secondary action</a>
          </p>
        </div>
      </div>
    </section>

    <div class="album py-5 bg-body-tertiary">
      <div class="container">
        <button type="button"
                hx-get="{% url 'mathlab:drafts:drafts-create' %}"
                hx-target="#draft-create-modal"
                hx-trigger="click"
                class="btn btn-primary"
                data-bs-toggle="modal"
                data-bs-target="#draft-create-modal">
          Launch demo modal
        </button>

        {% if request.user.is_authenticated %}
          <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"
               {% if request.GET.view == 'table' %}
                 hx-get="{% url 'mathlab:drafts:drafts-table-list' request.theorist.uuid %}"
               {% else %}
                 hx-get="{% url 'mathlab:drafts:drafts-album-list' request.theorist.uuid %}"
               {% endif %}
               hx-trigger="load"
               hx-target="this"
          ></div>
        {% endif %}

      </div>
    </div>
  </div>

  <div class="modal fade"
       id="draft-create-modal"
       tabindex="-1"
       aria-labelledby="exampleModalLabel"
       aria-hidden="true"
       hx-target="this"
  >
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document"></div>
  </div>
{% endblock body %}